<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:14,&quot;tests&quot;:14,&quot;passes&quot;:12,&quot;pending&quot;:0,&quot;failures&quot;:2,&quot;start&quot;:&quot;2019-10-23T11:23:28.618Z&quot;,&quot;end&quot;:&quot;2019-10-23T11:38:27.821Z&quot;,&quot;duration&quot;:899203,&quot;testsRegistered&quot;:14,&quot;passPercent&quot;:85.71428571428571,&quot;pendingPercent&quot;:0,&quot;other&quot;:1,&quot;hasOther&quot;:true,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;d64093fd-9c37-4d30-b97d-11652e00eb52&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3c69303c-b142-4fe0-99ea-108cff521f3f&quot;,&quot;title&quot;:&quot;Payment in Advance test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PiaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8288,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;pia&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f614844d-5c11-4d8d-acf8-ffdaee70a94b&quot;,&quot;parentUUID&quot;:&quot;3c69303c-b142-4fe0-99ea-108cff521f3f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1624,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f014832c-c775-49a9-b932-e0cb2bbd34a5&quot;,&quot;parentUUID&quot;:&quot;3c69303c-b142-4fe0-99ea-108cff521f3f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the pia payment process&quot;,&quot;fullTitle&quot;:&quot;Payment in Advance test should check the pia payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66954,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\nconsole.log(&#x27;expect correct bankdata&#x27;);\nconst amount = await driver.findElement(By.className(&#x27;wirecardee--bankdata-amount&#x27;)).getText();\nexpect(amount).to.include(&#x27;70,99 â‚¬&#x27;);\nconst iban = await driver.findElement(By.className(&#x27;wirecardee--bankdata-iban&#x27;)).getText();\nexpect(iban).to.include(&#x27;DE82512308000005599148&#x27;);\nconst bic = await driver.findElement(By.className(&#x27;wirecardee--bankdata-bic&#x27;)).getText();\nexpect(bic).to.include(&#x27;WIREDEMMXXX&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;226cbd4f-2b10-4e53-86f1-92dc16c94202&quot;,&quot;parentUUID&quot;:&quot;3c69303c-b142-4fe0-99ea-108cff521f3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;226cbd4f-2b10-4e53-86f1-92dc16c94202&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66954,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;a98340ac-5776-4b05-8568-9b1a23f85f34&quot;,&quot;title&quot;:&quot;Credit Card test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5817,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27aa95ac-267d-4708-aa3e-0c4a9b8a9f8f&quot;,&quot;parentUUID&quot;:&quot;a98340ac-5776-4b05-8568-9b1a23f85f34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:846,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;WebDriverError: Session not started or terminated&quot;,&quot;estack&quot;:&quot;WebDriverError: Session not started or terminated\n    at Object.checkLegacyResponse (node_modules/selenium-webdriver/lib/error.js:585:15)\n    at parseHttpResponse (node_modules/selenium-webdriver/lib/http.js:554:13)\n    at Executor.execute (node_modules/selenium-webdriver/lib/http.js:489:26)\n    at &lt;anonymous&gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)&quot;},&quot;uuid&quot;:&quot;c44bce84-24dc-4b08-aa22-766fc9e1dbe9&quot;,&quot;parentUUID&quot;:&quot;a98340ac-5776-4b05-8568-9b1a23f85f34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card test should check the credit card payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:161111,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;pay&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Save card\nconsole.log(&#x27;click #wirecardee--save-token&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--save-token&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nawait driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2030\\&#x27;]&#x27;)).click();\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);\ncheckTransactionTypeInDatabase(&#x27;purchase&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: ETIMEDOUT connect ETIMEDOUT 207.254.8.4:80&quot;,&quot;estack&quot;:&quot;Error: ETIMEDOUT connect ETIMEDOUT 207.254.8.4:80\n    at ClientRequest.&lt;anonymous&gt; (node_modules/selenium-webdriver/http/index.js:258:15)\n    at Socket.socketErrorListener (_http_client.js:387:9)\n    at emitErrorNT (internal/streams/destroy.js:64:8)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)&quot;},&quot;uuid&quot;:&quot;d028b1ff-6f9d-4eac-a3dd-a039d9ceadc9&quot;,&quot;parentUUID&quot;:&quot;a98340ac-5776-4b05-8568-9b1a23f85f34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;d028b1ff-6f9d-4eac-a3dd-a039d9ceadc9&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:161111,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;edbeb256-2b8c-41f4-9546-2edfbc6ff44d&quot;,&quot;title&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements)&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardOneClickTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5346,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card one click&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;277e5ed8-31ba-4863-8fc3-0503f8af36ea&quot;,&quot;parentUUID&quot;:&quot;edbeb256-2b8c-41f4-9546-2edfbc6ff44d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1569,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac8fb5d1-0bd6-4456-84d7-857e1829c9c9&quot;,&quot;parentUUID&quot;:&quot;edbeb256-2b8c-41f4-9546-2edfbc6ff44d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card one-click payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card One-Click Checkout test (NOTE: has requirements) should check the credit card one-click payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23550,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\nawait driver.findElement(By.id(&#x27;wirecardee--token-&#x27; + tokenId)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;NoSuchElementError: no such element: Unable to locate element: {\&quot;method\&quot;:\&quot;css selector\&quot;,\&quot;selector\&quot;:\&quot;*[id=\&quot;wirecardee--token-1\&quot;]\&quot;}\n  (Session info: chrome=72.0.3626.109)\n  (Driver info: chromedriver=2.45.615291 (ec3682e3c9061c10f26ea9e5cdcf3c53f3f74387),platform=Windows NT 10.0.17134 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 24 milliseconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: &#x27;2.53.0&#x27;, revision: &#x27;35ae25b&#x27;, time: &#x27;2016-03-15 17:00:58&#x27;\nSystem info: host: &#x27;207-254-10-132&#x27;, ip: &#x27;207.254.10.132&#x27;, os.name: &#x27;windows&#x27;, os.arch: &#x27;x86&#x27;, os.version: &#x27;10.0&#x27;, java.version: &#x27;1.8.0_181&#x27;\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=XP, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:2913}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.45.615291 (ec3682e3c9061c10f26ea9e5cdcf3c53f3f74387), userDataDir=C:\\Windows\\proxy\\scoped_dir11240_24484}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=72.0.3626.109, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}]\nSession ID: 1c523f4c41380d3e5d0dd620265e2787\n*** Element info: {Using=css selector, value=*[id=\&quot;wirecardee--token-1\&quot;]}&quot;,&quot;estack&quot;:&quot;NoSuchElementError: no such element: Unable to locate element: {\&quot;method\&quot;:\&quot;css selector\&quot;,\&quot;selector\&quot;:\&quot;*[id=\&quot;wirecardee--token-1\&quot;]\&quot;}\n  (Session info: chrome=72.0.3626.109)\n  (Driver info: chromedriver=2.45.615291 (ec3682e3c9061c10f26ea9e5cdcf3c53f3f74387),platform=Windows NT 10.0.17134 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 24 milliseconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: &#x27;2.53.0&#x27;, revision: &#x27;35ae25b&#x27;, time: &#x27;2016-03-15 17:00:58&#x27;\nSystem info: host: &#x27;207-254-10-132&#x27;, ip: &#x27;207.254.10.132&#x27;, os.name: &#x27;windows&#x27;, os.arch: &#x27;x86&#x27;, os.version: &#x27;10.0&#x27;, java.version: &#x27;1.8.0_181&#x27;\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{mobileEmulationEnabled=false, timeouts={implicit=0, pageLoad=300000, script=30000}, hasTouchScreen=false, platform=XP, acceptSslCerts=false, goog:chromeOptions={debuggerAddress=localhost:2913}, acceptInsecureCerts=false, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, setWindowRect=true, unexpectedAlertBehaviour=ignore, applicationCacheEnabled=false, rotatable=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.45.615291 (ec3682e3c9061c10f26ea9e5cdcf3c53f3f74387), userDataDir=C:\\Windows\\proxy\\scoped_dir11240_24484}, takesHeapSnapshot=true, pageLoadStrategy=normal, strictFileInteractability=false, databaseEnabled=false, handlesAlerts=true, version=72.0.3626.109, browserConnectionEnabled=false, proxy={}, nativeEvents=true, locationContextEnabled=true, cssSelectorsEnabled=true}]\nSession ID: 1c523f4c41380d3e5d0dd620265e2787\n*** Element info: {Using=css selector, value=*[id=\&quot;wirecardee--token-1\&quot;]}\n    at Object.checkLegacyResponse (node_modules/selenium-webdriver/lib/error.js:585:15)\n    at parseHttpResponse (node_modules/selenium-webdriver/lib/http.js:554:13)\n    at Executor.execute (node_modules/selenium-webdriver/lib/http.js:489:26)\n    at &lt;anonymous&gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)&quot;},&quot;uuid&quot;:&quot;cfee1e58-fe12-4e69-bae9-0f37f2d3dbbb&quot;,&quot;parentUUID&quot;:&quot;edbeb256-2b8c-41f4-9546-2edfbc6ff44d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;cfee1e58-fe12-4e69-bae9-0f37f2d3dbbb&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23550,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;fbb34653-87e9-4fbb-b480-e6e869acd35d&quot;,&quot;title&quot;:&quot;SEPA Direct Debit test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SepaTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10719,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sepa&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35276ed5-66fd-49bd-b1e0-018046e857c9&quot;,&quot;parentUUID&quot;:&quot;fbb34653-87e9-4fbb-b480-e6e869acd35d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1614,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc65c718-955d-427b-b97a-01eec4ee8346&quot;,&quot;parentUUID&quot;:&quot;fbb34653-87e9-4fbb-b480-e6e869acd35d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sepa payment process&quot;,&quot;fullTitle&quot;:&quot;SEPA Direct Debit test should check the sepa payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31387,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Fill sepa fields\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Confirm sepa mandate in modal dialog\nconsole.log(&#x27;wait for .wirecardee--sepa-mandate&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecardee--sepa-mandate&#x27;)), 10000);\nconsole.log(&#x27;click .wirecardee-sepa--confirm-check&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-check&#x27;)).click();\nconsole.log(&#x27;click .wirecardee-sepa--confirm-button&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-sepa--confirm-button&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31fdd7bb-349d-4fdd-be75-4a7c15a28335&quot;,&quot;parentUUID&quot;:&quot;fbb34653-87e9-4fbb-b480-e6e869acd35d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31fdd7bb-349d-4fdd-be75-4a7c15a28335&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31387,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;93a33273-2e68-407e-aada-b29e1d7ac410&quot;,&quot;title&quot;:&quot;Sofort. test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/SofortTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4761,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;sofort&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbb8bc72-0396-4218-af31-db4b6106eb95&quot;,&quot;parentUUID&quot;:&quot;93a33273-2e68-407e-aada-b29e1d7ac410&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Sofort. test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1718,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4618db34-4608-4b6b-b845-d174f8a5b7c0&quot;,&quot;parentUUID&quot;:&quot;93a33273-2e68-407e-aada-b29e1d7ac410&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the sofort payment process&quot;,&quot;fullTitle&quot;:&quot;Sofort. test should check the sofort payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58876,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Wait for Sofort. page and fill out forms\nconsole.log(&#x27;wait for #MultipaysSessionSenderCountryId&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;MultipaysSessionSenderCountryId&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;#MultipaysSessionSenderCountryId &gt; option[value=\\&#x27;AT\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.id(&#x27;BankCodeSearch&#x27;)).sendKeys(formFields.bankCode);\nconsole.log(&#x27;wait for .js-bank-searcher-result-list&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;js-bank-searcher-result-list&#x27;)), 5000);\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormLOGINNAMEUSERID&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormLOGINNAMEUSERID&#x27;)).sendKeys(formFields.userId);\nawait driver.findElement(By.id(&#x27;BackendFormUSERPIN&#x27;)).sendKeys(formFields.password, Key.ENTER);\nconsole.log(&#x27;wait for #account-1&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account-1&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;account-1&#x27;)).click();\nawait driver.findElement(By.css(&#x27;button.primary&#x27;)).click();\nconsole.log(&#x27;wait for #BackendFormTAN&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;BackendFormTAN&#x27;)), 20000);\nawait driver.findElement(By.id(&#x27;BackendFormTAN&#x27;)).sendKeys(formFields.tan, Key.ENTER);\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21c11a15-6032-4f0a-8a3f-f85025f84f04&quot;,&quot;parentUUID&quot;:&quot;93a33273-2e68-407e-aada-b29e1d7ac410&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;21c11a15-6032-4f0a-8a3f-f85025f84f04&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:58876,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;5c13de06-6861-4495-87f2-c44e6980db9b&quot;,&quot;title&quot;:&quot;Payment on Invoice test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PoiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5754,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;poi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f768d375-41c5-4cc3-8387-075014444ae2&quot;,&quot;parentUUID&quot;:&quot;5c13de06-6861-4495-87f2-c44e6980db9b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2744,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a389c581-87ef-4c64-ab57-d287ca4f8509&quot;,&quot;parentUUID&quot;:&quot;5c13de06-6861-4495-87f2-c44e6980db9b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the poi payment process&quot;,&quot;fullTitle&quot;:&quot;Payment on Invoice test should check the poi payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25002,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c21eb69c-4971-4457-a85e-57e4aba753f8&quot;,&quot;parentUUID&quot;:&quot;5c13de06-6861-4495-87f2-c44e6980db9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c21eb69c-4971-4457-a85e-57e4aba753f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25002,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;bee97050-d436-433e-a958-174e5c3edfe2&quot;,&quot;title&quot;:&quot;UnionPay International test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/UpiTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5594,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;upi&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a9657f0-c9d0-4f1e-8bce-435ed4134ab7&quot;,&quot;parentUUID&quot;:&quot;bee97050-d436-433e-a958-174e5c3edfe2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2045,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;982e8766-f614-4f1a-b6cb-ebc394966e8f&quot;,&quot;parentUUID&quot;:&quot;bee97050-d436-433e-a958-174e5c3edfe2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the unionpay international payment process&quot;,&quot;fullTitle&quot;:&quot;UnionPay International test should check the unionpay international payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32566,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n// Fill out credit card iframe\nconsole.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\nconsole.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\nawait driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\nconsole.log(&#x27;wait for #account_number&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\nawait asyncForEach(Object.keys(formFields), async field =&gt; {\n    console.log(`setting ${field} to ${formFields[field]}`);\n    await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n});\nawait driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\nawait driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2030\\&#x27;]&#x27;)).click();\n// Switch back from iframe and click Send button\nconsole.log(&#x27;switch back from iframe to default content&#x27;);\nawait driver.switchTo().defaultContent();\nconsole.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\nawait driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)));\nconsole.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb78f8ab-93cb-4684-b72c-57f31d65307e&quot;,&quot;parentUUID&quot;:&quot;bee97050-d436-433e-a958-174e5c3edfe2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bb78f8ab-93cb-4684-b72c-57f31d65307e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32566,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;7ad43d72-ba55-4ed4-97b6-abf172d1bf20&quot;,&quot;title&quot;:&quot;Credit Card 3-D Secure Authorization test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardThreeDAuthorizationTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardThreeDAuthorizationTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5990,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card 3ds authorization&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52ee6e96-f254-4702-8fde-e859819e9f44&quot;,&quot;parentUUID&quot;:&quot;7ad43d72-ba55-4ed4-97b6-abf172d1bf20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2621,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d24b341-438a-488c-a839-9b49ef66cd83&quot;,&quot;parentUUID&quot;:&quot;7ad43d72-ba55-4ed4-97b6-abf172d1bf20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card 3ds authorization payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure Authorization test should check the credit card 3ds authorization payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89872,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;reserve&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/wohnwelten/moebel/68/kommode-shabby-chic&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\ntry {\n    // Do not use saved card\n    console.log(&#x27;click #wirecardee--token-no-card&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee--token-no-card&#x27;)).click();\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n}\ncheckTransactionTypeInDatabase(&#x27;authorization&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a708434b-639d-4668-943d-8af5db6b5982&quot;,&quot;parentUUID&quot;:&quot;7ad43d72-ba55-4ed4-97b6-abf172d1bf20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a708434b-639d-4668-943d-8af5db6b5982&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:89872,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;2edc3c3a-0a9d-48cf-9092-041a23504bdd&quot;,&quot;title&quot;:&quot;Alipay Cross-border test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/AlipayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6377,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;alipay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d4b4563-3fd9-4170-92b4-cfe56ab72a98&quot;,&quot;parentUUID&quot;:&quot;2edc3c3a-0a9d-48cf-9092-041a23504bdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2210,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4b4bede-412f-4f12-b92e-00a28aa8c215&quot;,&quot;parentUUID&quot;:&quot;2edc3c3a-0a9d-48cf-9092-041a23504bdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the alipay crossborder payment process&quot;,&quot;fullTitle&quot;:&quot;Alipay Cross-border test should check the alipay crossborder payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37728,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for .payAmount-area&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.payAmount-area&#x27;)), 20000);\nconst paymentContent = await driver.findElement(By.css(&#x27;.payAmount-area&#x27;)).getText();\nexpect(paymentContent).to.include(&#x27;70.99 EUR&#x27;);\n// We cannot perform the full payment process because of a captcha at Alipay login page\n/*\nawait driver.wait(until.elementLocated(By.css(&#x27;.mi-input-account&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;.mi-input-account&#x27;)).sendKeys(formFields.email);\nawait driver.findElement(By.id(&#x27;payPasswd_rsainput&#x27;)).sendKeys(formFields.password);\nconsole.log(&#x27;wait for .sixDigitPassword&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.sixDigitPassword&#x27;)), 15000);\nawait driver.findElement(By.css(&#x27;.sixDigitPassword i&#x27;)).sendKeys(formFields.paymentPasswordDigit);\nawait driver.findElement(By.id(&#x27;J_authSubmit&#x27;)).click();\nawait waitForAlert(driver, 20000);\nawait checkConfirmationPage(driver, paymentLabel);\n*/&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3e3d1df-0377-4f44-98f5-0619347ed1e1&quot;,&quot;parentUUID&quot;:&quot;2edc3c3a-0a9d-48cf-9092-041a23504bdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3e3d1df-0377-4f44-98f5-0619347ed1e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37728,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;e4225fdb-a881-4dba-8adc-e09490a73793&quot;,&quot;title&quot;:&quot;PayPal test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/PaypalTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10250,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;paypal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6abea179-1701-4888-adbe-974290fd87e0&quot;,&quot;parentUUID&quot;:&quot;e4225fdb-a881-4dba-8adc-e09490a73793&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;PayPal test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2835,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec7355ae-bbf1-4ad4-bb1b-44afcca3c3b2&quot;,&quot;parentUUID&quot;:&quot;e4225fdb-a881-4dba-8adc-e09490a73793&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the paypal payment process&quot;,&quot;fullTitle&quot;:&quot;PayPal test should check the paypal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69928,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\ntry {\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(formFields.email);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(formFields.password, Key.ENTER);\n    console.log(&#x27;wait for #confirmButtonTop&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;confirmButtonTop&#x27;)));\n    console.log(&#x27;#confirmButtonTop located&#x27;);\n    await driver.findElement(By.id(&#x27;confirmButtonTop&#x27;)).click();\n    console.log(&#x27;#confirmButtonTop clicked&#x27;);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    console.log(&#x27;wait for #btnNext&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnNext&#x27;)), 10000);\n    console.log(&#x27;wait for #email&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;email&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;email&#x27;)).sendKeys(Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.className(&#x27;spinnerWithLockIcon&#x27;));\n    console.log(&#x27;wait for #btnLogin&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;btnLogin&#x27;)), 25000);\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 10000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(formFields.password, Key.ENTER);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;wait for #confirmButtonTop&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;confirmButtonTop&#x27;)), 25000);\n    await waitUntilOverlayIsNotVisible(driver, By.id(&#x27;preloaderSpinner&#x27;));\n    console.log(&#x27;click #confirmButtonTop&#x27;);\n    await driver.wait(driver.findElement(By.id(&#x27;confirmButtonTop&#x27;)).click(), 10000);\n    await waitForAlert(driver, 25000);\n    await checkConfirmationPage(driver, paymentLabel);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d53f5b1-22f1-4458-b70a-2c5c07913122&quot;,&quot;parentUUID&quot;:&quot;e4225fdb-a881-4dba-8adc-e09490a73793&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2d53f5b1-22f1-4458-b70a-2c5c07913122&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:69928,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;b29fd04a-618a-4381-ba01-f99beaacab79&quot;,&quot;title&quot;:&quot;iDEAL test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/IdealTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10790,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ideal&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40b442af-46e4-4df4-9930-c897eff4d82f&quot;,&quot;parentUUID&quot;:&quot;b29fd04a-618a-4381-ba01-f99beaacab79&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;iDEAL test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2266,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b52daeb6-aa83-4413-8139-b93a2a918603&quot;,&quot;parentUUID&quot;:&quot;b29fd04a-618a-4381-ba01-f99beaacab79&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ideal payment process&quot;,&quot;fullTitle&quot;:&quot;iDEAL test should check the ideal payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30723,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\n// Select ideal bank\nconsole.log(&#x27;select &#x27; + idealBank + &#x27; option&#x27;);\nawait driver.findElement(By.css(&#x27;option[value=\\&#x27;&#x27; + idealBank + &#x27;\\&#x27;]&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nconsole.log(&#x27;wait for form .btnLink&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;form .btnLink&#x27;)), 20000);\nawait driver.findElement(By.css(&#x27;form .btnLink&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35b46863-07b3-4f7f-9025-3c3cd345d230&quot;,&quot;parentUUID&quot;:&quot;b29fd04a-618a-4381-ba01-f99beaacab79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35b46863-07b3-4f7f-9025-3c3cd345d230&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30723,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;3b1bef9f-f724-412a-a757-e79e9b9567bb&quot;,&quot;title&quot;:&quot;Guaranteed Invoice by Wirecard test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/RatepayTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7589,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;ratepay&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75446b80-0670-45d3-8b6d-2dafdbca9546&quot;,&quot;parentUUID&quot;:&quot;3b1bef9f-f724-412a-a757-e79e9b9567bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3910,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8928f0c-5b54-4bd8-b618-36af756d0af9&quot;,&quot;parentUUID&quot;:&quot;3b1bef9f-f724-412a-a757-e79e9b9567bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the ratepay invoice process&quot;,&quot;fullTitle&quot;:&quot;Guaranteed Invoice by Wirecard test should check the ratepay invoice process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35032,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\nconsole.log(&#x27;change shipping address&#x27;);\nawait driver.findElement(By.css(&#x27;.information--panel-item-shipping a[data-address-selection=\&quot;true\&quot;]&#x27;)).click();\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nconsole.log(&#x27;wait for .address-manager--selection-form&#x27;);\nawait driver.wait(until.elementLocated(By.css(&#x27;.address-manager--selection-form&#x27;)));\nawait driver.findElement(By.css(&#x27;.address-manager--selection-form button&#x27;)).click();\nconsole.log(&#x27;wait for .choose-different-address&#x27;);\nawait driver.wait(until.elementLocated(By.className(&#x27;choose-different-address&#x27;)));\nawait selectPaymentMethod(driver, paymentLabel);\n// Select birthday\nconsole.log(&#x27;select birthday 1/1/2000 option&#x27;);\nawait driver.findElement(By.css(&#x27;.wirecardee--birthday-year option[value=\\&#x27;2000\\&#x27;]&#x27;)).click();\nconsole.log(&#x27;confirm terms&#x27;);\nawait driver.findElement(By.id(&#x27;wirecardee--tac&#x27;)).click();\n// Confirm order\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, paymentLabel);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cde7c64-77f3-4e4b-80f3-ed15d55e01ad&quot;,&quot;parentUUID&quot;:&quot;3b1bef9f-f724-412a-a757-e79e9b9567bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2cde7c64-77f3-4e4b-80f3-ed15d55e01ad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35032,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;7bdea5ba-2329-41e5-be2c-c26f2f3c9d66&quot;,&quot;title&quot;:&quot;default test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/DefaultTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5221,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;default&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f56afc7-460e-48a0-a9d9-c8e665b5fdd4&quot;,&quot;parentUUID&quot;:&quot;7bdea5ba-2329-41e5-be2c-c26f2f3c9d66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;default test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2799,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e28dc6ff-ca31-4ed2-8ba9-1d99c1f8b2b6&quot;,&quot;parentUUID&quot;:&quot;7bdea5ba-2329-41e5-be2c-c26f2f3c9d66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the default checkout&quot;,&quot;fullTitle&quot;:&quot;default test should check the default checkout&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16544,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/genusswelten/tees-und-zubeh/tee-zubehoer/24/glas-teekaennchen&#x27;);\n// Go to payment selection page select \&quot;prepayment\&quot;\nawait driver.findElement(By.className(&#x27;btn--change-payment&#x27;)).click();\n// Check if all wirecard payments are present\nawait asyncForEach(wirecardPaymentLabels, async paymentLabel =&gt; {\n    await driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;\&quot; + paymentLabel + \&quot;&#x27;)]\&quot;));\n});\nawait driver.findElement(By.xpath(\&quot;//*[contains(text(), &#x27;Vorkasse&#x27;)]\&quot;)).click();\n// Go back to checkout page and test if payment method has been selected\nawait waitUntilOverlayIsStale(driver, By.className(&#x27;js--overlay&#x27;));\nawait driver.findElement(By.className(&#x27;main--actions&#x27;)).click();\n// Check AGB and confirm order\nawait driver.findElement(By.id(&#x27;sAGB&#x27;)).click();\nconsole.log(&#x27;click button confirm--form&#x27;);\nawait driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\nawait checkConfirmationPage(driver, &#x27;Vorkasse&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc9668c-499d-40c4-a221-5a2c5acc05fe&quot;,&quot;parentUUID&quot;:&quot;7bdea5ba-2329-41e5-be2c-c26f2f3c9d66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2cc9668c-499d-40c4-a221-5a2c5acc05fe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16544,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000},{&quot;uuid&quot;:&quot;3682126e-1098-43e8-b3e6-019d6fc6db88&quot;,&quot;title&quot;:&quot;Credit Card 3-D Secure test&quot;,&quot;fullFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;file&quot;:&quot;/Tests/Selenium/Payments/CreditCardThreeDTest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5986,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver = await getDriver(&#x27;credit card 3ds&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20fdbf09-4a5d-4f1e-852d-54468d1d36c2&quot;,&quot;parentUUID&quot;:&quot;3682126e-1098-43e8-b3e6-019d6fc6db88&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2085,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;driver.quit()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09260260-4b92-4c25-a198-dc811be218fd&quot;,&quot;parentUUID&quot;:&quot;3682126e-1098-43e8-b3e6-019d6fc6db88&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should check the credit card 3ds payment process&quot;,&quot;fullTitle&quot;:&quot;Credit Card 3-D Secure test should check the credit card 3ds payment process&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90506,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await updateDatabaseTransactionType(&#x27;pay&#x27;, &#x27;wirecardElasticEngineCreditCardTransactionType&#x27;);\nawait loginWithExampleAccount(driver);\nawait addProductToCartAndGotoCheckout(driver, &#x27;/wohnwelten/moebel/68/kommode-shabby-chic&#x27;);\nawait selectPaymentMethod(driver, paymentLabel);\ntry {\n    // Do not use saved card\n    console.log(&#x27;click #wirecardee--token-no-card&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee--token-no-card&#x27;)).click();\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n} catch (e) {\n    // Confirm order\n    console.log(&#x27;click button confirm--form&#x27;);\n    await driver.findElement(By.xpath(&#x27;//button[@form=\&quot;confirm--form\&quot;]&#x27;)).click();\n    // Fill out credit card iframe\n    console.log(&#x27;wait for .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.elementLocated(By.className(&#x27;wirecard-seamless-frame&#x27;)), 20000);\n    console.log(&#x27;wait for switch to iframe .wirecard-seamless-frame&#x27;);\n    await driver.wait(until.ableToSwitchToFrame(By.className(&#x27;wirecard-seamless-frame&#x27;)));\n    console.log(&#x27;wait for #account_number&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;account_number&#x27;)), 20000);\n    await asyncForEach(Object.keys(formFields), async field =&gt; {\n        await driver.findElement(By.id(field)).sendKeys(formFields[field]);\n    });\n    await driver.findElement(By.css(&#x27;#expiration_month_list &gt; option[value=\\&#x27;01\\&#x27;]&#x27;)).click();\n    await driver.findElement(By.css(&#x27;#expiration_year_list &gt; option[value=\\&#x27;2023\\&#x27;]&#x27;)).click();\n    // Switch back from iframe and click Send button\n    console.log(&#x27;switch back from iframe to default content&#x27;);\n    await driver.switchTo().defaultContent();\n    console.log(&#x27;wait for #wirecardee-credit-card--form-submit&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)), 10000);\n    console.log(&#x27;click #wirecardee-credit-card--form-submit&#x27;);\n    await driver.findElement(By.id(&#x27;wirecardee-credit-card--form-submit&#x27;)).click();\n    console.log(&#x27;wait for #password&#x27;);\n    await driver.wait(until.elementLocated(By.id(&#x27;password&#x27;)), 20000);\n    await driver.findElement(By.id(&#x27;password&#x27;)).sendKeys(config.payments.creditCardThreeD.password, Key.ENTER);\n    await waitForAlert(driver, 20000);\n    await checkConfirmationPage(driver, paymentLabel);\n}\ncheckTransactionTypeInDatabase(&#x27;purchase&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f218eea-4669-47e8-9b99-fbec4248d9a8&quot;,&quot;parentUUID&quot;:&quot;3682126e-1098-43e8-b3e6-019d6fc6db88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f218eea-4669-47e8-9b99-fbec4248d9a8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:90506,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:6000000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;5.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.0.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportFilename&quot;:&quot;report&quot;},&quot;version&quot;:&quot;4.0.1&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;WirecardElasticEngine&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.json&quot;,&quot;htmlFile&quot;:&quot;/home/travis/shopware/custom/plugins/WirecardElasticEngine/mochawesome-report/report.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>